{"ast":null,"code":"import { computed, inject } from '@angular/core';\nimport { SpotifyService } from '@core/services/spotify.service';\nimport { play } from '@icon/solid.icon';\nimport * as i0 from \"@angular/core\";\nconst Music_Defer_2_DepsFn = () => [import(\"@angular/common\").then(m => m.NgClass), import(\"../icon/icon\").then(m => m.Icon), import(\"@core/pipe/date-ago.pipe\").then(m => m.DateAgoPipe), import(\"@core/pipe/time-duration.pipe\").then(m => m.TimeDurationPipe)];\nconst _c0 = a0 => ({\n  \"!animate-none\": a0\n});\nfunction Music_Defer_0_Conditional_0_For_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 13);\n  }\n  if (rf & 2) {\n    const link_r7 = ctx.$implicit;\n    const $index_r8 = ctx.$index;\n    const data_r3 = i0.ɵɵnextContext();\n    i0.ɵɵstyleMapInterpolate2(\"animation-delay: -\", $index_r8 + 1, \".2s; transform: scaleY(\", link_r7, \")\");\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c0, !data_r3.isPlaying));\n  }\n}\nfunction Music_Defer_0_Conditional_0_Conditional_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"timeDuration\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, ctx_r5.progressTime()));\n  }\n}\nfunction Music_Defer_0_Conditional_0_Conditional_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"icon\", 14);\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"path\", ctx_r6.playIcon);\n  }\n}\nconst _c1 = () => [\"0.6\", \"1\", \"0.7\"];\nfunction Music_Defer_0_Conditional_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 1)(1, \"div\", 2);\n    i0.ɵɵelement(2, \"img\", 3);\n    i0.ɵɵelementStart(3, \"div\", 4)(4, \"p\", 5)(5, \"span\", 6);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"dateAgo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"span\", 7);\n    i0.ɵɵrepeaterCreate(9, Music_Defer_0_Conditional_0_For_10_Template, 1, 7, \"span\", 15, i0.ɵɵrepeaterTrackByIndex);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"span\", 8);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 9);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 10);\n    i0.ɵɵtemplate(16, Music_Defer_0_Conditional_0_Conditional_16_Template, 3, 3, \"span\")(17, Music_Defer_0_Conditional_0_Conditional_17_Template, 1, 1);\n    i0.ɵɵelementStart(18, \"div\", 11);\n    i0.ɵɵelement(19, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"span\");\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"timeDuration\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"href\", ctx.track.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵattribute(\"aria-label\", ctx.track.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"alt\", ctx.track.name)(\"src\", ctx.track.image.url, i0.ɵɵsanitizeUrl)(\"width\", ctx.track.image.width)(\"height\", ctx.track.image.height);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx.isPlaying ? \"Now Playing\" : i0.ɵɵpipeBind1(7, 13, ctx.playedAt));\n    i0.ɵɵadvance(3);\n    i0.ɵɵrepeater(i0.ɵɵpureFunction0(17, _c1));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx.track == null ? null : ctx.track.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx.track == null ? null : ctx.track.artist);\n    i0.ɵɵadvance(2);\n    i0.ɵɵconditional(16, ctx.isPlaying ? 16 : 17);\n    i0.ɵɵadvance(3);\n    i0.ɵɵstyleProp(\"width\", ctx_r2.progressTime() / ctx_r2.totalDuration() * 100, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(22, 15, ctx_r2.totalDuration()));\n  }\n}\nfunction Music_Defer_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, Music_Defer_0_Conditional_0_Template, 23, 18, \"a\", 0);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    let Music_Defer_0_contFlowTmp;\n    i0.ɵɵconditional(0, (Music_Defer_0_contFlowTmp = ctx_r0.music()) ? 0 : -1, Music_Defer_0_contFlowTmp);\n  }\n}\nfunction Music_DeferPlaceholder_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 16);\n  }\n}\nexport class Music {\n  constructor() {\n    this.spotifyService = inject(SpotifyService);\n    this.music = computed(() => this.spotifyService.music());\n    this.progressTime = computed(() => this.spotifyService.progressTime());\n    this.totalDuration = computed(() => this.spotifyService.totalDuration());\n    this.playIcon = play;\n  }\n  static #_ = this.ɵfac = function Music_Factory(t) {\n    return new (t || Music)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: Music,\n    selectors: [[\"music\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 4,\n    vars: 1,\n    consts: [[\"class\", \"group\", \"target\", \"_blank\", 3, \"href\"], [\"target\", \"_blank\", 1, \"group\", 3, \"href\"], [1, \"flex\", \"flex-row\", \"gap-3.5\", \"p-3\", \"bg-gray-400\", \"rounded-md\", \"bg-clip-padding\", \"backdrop-filter\", \"backdrop-blur-sm\", \"bg-opacity-10\", \"border\", \"dark:border-gray-100/20\"], [1, \"object-cover\", \"object-center\", \"rounded-1\", \"aspect-square\", \"w-auto\", \"h-full\", \"max-w-full\", \"max-h-24\", \"border\", \"border-divider\", \"transition\", \"scale-100\", \"group-hover:scale-105\", 3, \"alt\", \"src\", \"width\", \"height\"], [1, \"flex\", \"flex-col\", \"flex-1\", \"gap-1.5\", \"text-sm\", \"truncate\", \"mix-blend-hard-light\", \"justify-center\"], [1, \"flex\", \"gap-3\", \"font-semibold\", \"tracking-wider\", \"uppercase\", \"dark:text-gray-300\", \"text-gray-600\"], [1, \"text-xs\", \"text-primary-500\"], [1, \"flex\", \"justify-between\", \"w-3\", \"h-3\"], [1, \"truncate\", \"font-medium\", \"transition-colors\", \"w-full\", \"min-h-6\", \"group-hover:underline\"], [1, \"-mt-2\", \"truncate\", \"w-full\", \"min-h-5.5\", \"dark:text-gray-400\", \"text-gray-600\"], [1, \"flex\", \"text-xs\", \"items-center\"], [1, \"relative\", \"w-full\", \"h-1\", \"bg-gray-300\", \"overflow-hidden\", \"mx-1\"], [1, \"absolute\", \"top-0\", \"left-0\", \"h-full\", \"bg-primary-500\"], [1, \"w-0.75\", \"h-full\", \"border\", \"border-primary-500\", \"rounded-0.75\", \"motion-safe:animate-music-bars\", \"origin-bottom\", 3, \"ngClass\"], [\"iconClass\", \"w-4 h-4 dark:!fill-gray-300 text-gray-600\", 3, \"path\"], [\"class\", \"w-0.75 h-full border border-primary-500 rounded-0.75 motion-safe:animate-music-bars origin-bottom\", 3, \"ngClass\", \"style\"], [1, \"bg-gray-400\", \"rounded-md\", \"backdrop-filter\", \"backdrop-blur-sm\", \"bg-opacity-10\", \"border\", \"dark:border-gray-100/20\", \"h-28\"]],\n    template: function Music_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, Music_Defer_0_Template, 1, 1)(1, Music_DeferPlaceholder_1_Template, 1, 0);\n        i0.ɵɵdefer(2, 0, Music_Defer_2_DepsFn, null, 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵdeferWhen(ctx.music());\n      }\n    },\n    encapsulation: 2\n  });\n}","map":{"version":3,"names":["computed","inject","SpotifyService","play","i0","ɵɵelement","ɵɵstyleMapInterpolate2","$index_r8","link_r7","ɵɵproperty","ɵɵpureFunction1","_c0","data_r3","isPlaying","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","ctx_r5","progressTime","ctx_r6","playIcon","ɵɵrepeaterCreate","Music_Defer_0_Conditional_0_For_10_Template","ɵɵrepeaterTrackByIndex","ɵɵtemplate","Music_Defer_0_Conditional_0_Conditional_16_Template","Music_Defer_0_Conditional_0_Conditional_17_Template","ctx","track","url","ɵɵsanitizeUrl","ɵɵattribute","name","image","width","height","playedAt","ɵɵrepeater","ɵɵpureFunction0","_c1","artist","ɵɵconditional","ɵɵstyleProp","ctx_r2","totalDuration","Music_Defer_0_Conditional_0_Template","Music_Defer_0_contFlowTmp","ctx_r0","music","Music","constructor","spotifyService","_","_2","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","Music_Template","rf","Music_Defer_0_Template","Music_DeferPlaceholder_1_Template","ɵɵdefer","Music_Defer_2_DepsFn","ɵɵdeferWhen"],"sources":["C:\\Users\\Vyankat\\Downloads\\kevinflor.es-master\\kevinflor.es-master\\src\\app\\shared\\components\\music\\music.ts"],"sourcesContent":["import { NgClass } from '@angular/common';\nimport {\n  Component,\n  Signal,\n  ViewEncapsulation,\n  computed,\n  inject,\n} from '@angular/core';\nimport { SpotifyService } from '@core/services/spotify.service';\nimport { Icon } from '../icon/icon';\nimport { play } from '@icon/solid.icon';\nimport { DateAgoPipe} from '@core/pipe/date-ago.pipe'\nimport { TimeDurationPipe } from '@core/pipe/time-duration.pipe'\n@Component({\n  selector: 'music',\n  standalone: true,\n  imports: [NgClass, Icon, DateAgoPipe, TimeDurationPipe],\n  encapsulation: ViewEncapsulation.None,\n  template: `@defer(when music()){ @if(music(); as data){\n    <a\n      class=\"group\"\n      target=\"_blank\"\n      [href]=\"data.track.url\"\n      [attr.aria-label]=\"data.track.name\"\n    >\n      <div\n        class=\"flex flex-row gap-3.5 p-3 bg-gray-400 rounded-md bg-clip-padding backdrop-filter backdrop-blur-sm bg-opacity-10 border dark:border-gray-100/20\"\n      >\n        <img\n          class=\"object-cover object-center rounded-1 aspect-square w-auto h-full max-w-full max-h-24 border border-divider transition scale-100 group-hover:scale-105\"\n          [alt]=\"data.track.name\"\n          [src]=\"data.track.image.url\"\n          [width]=\"data.track.image.width\"\n          [height]=\"data.track.image.height\"\n        />\n        <div\n          class=\"flex flex-col flex-1 gap-1.5 text-sm truncate mix-blend-hard-light justify-center\"\n        >\n          <p\n            class=\"flex gap-3 font-semibold tracking-wider uppercase dark:text-gray-300 text-gray-600\"\n          >\n            <span class=\"text-xs text-primary-500\">{{data.isPlaying ? 'Now Playing' : (data.playedAt | dateAgo)}}</span>\n            <span class=\"flex justify-between w-3 h-3\">\n              @for(link of ['0.6', '1', '0.7']; track $index){\n              <span\n                class=\"w-0.75 h-full border border-primary-500 rounded-0.75 motion-safe:animate-music-bars origin-bottom\"\n                [ngClass]=\"{'!animate-none': !data.isPlaying}\"\n                style=\"animation-delay: -{{$index + 1}}.2s; transform: scaleY({{link}})\"\n              ></span>\n            }\n            </span>\n          </p>\n          <span\n            class=\"truncate font-medium transition-colors w-full min-h-6 group-hover:underline\"\n            >{{ data.track?.name }}</span\n          >\n          <span\n            class=\"-mt-2 truncate w-full min-h-5.5 dark:text-gray-400 text-gray-600\"\n            >{{ data.track?.artist }}</span\n          >\n          <div class=\"flex text-xs items-center\">\n            @if(data.isPlaying){\n              <span>{{ progressTime() | timeDuration }}</span>\n            }@else {\n              <icon [path]=\"playIcon\" iconClass=\"w-4 h-4 dark:!fill-gray-300 text-gray-600\"/>\n            }\n          <div\n            class=\"relative w-full h-1 bg-gray-300 overflow-hidden mx-1\"\n          >\n            <div\n              class=\"absolute top-0 left-0 h-full bg-primary-500\"\n              [style.width.%]=\"(progressTime() / totalDuration()) * 100\"\n            ></div>\n          </div>\n          <span>{{ totalDuration() | timeDuration }}</span>\n          </div>\n        </div>\n\n      </div>\n    </a>\n    } }@placeholder {\n    <div\n      class=\"bg-gray-400 rounded-md backdrop-filter backdrop-blur-sm bg-opacity-10 border dark:border-gray-100/20 h-28\"\n    ></div>\n    }`,\n})\nexport class Music {\n  spotifyService = inject(SpotifyService);\n  public music: Signal<any> = computed(() => this.spotifyService.music());\n  public progressTime: Signal<number> = computed(() => this.spotifyService.progressTime());\n  public totalDuration: Signal<number> = computed(() => this.spotifyService.totalDuration());\n  public playIcon = play;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}